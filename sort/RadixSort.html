<!doctype html>
<html lang="en">

<head>
  <title>EDA II</title>
  <!-- Required meta tags -->
  <meta charset="utf-8">
  <meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
  <!--     Fonts and icons     -->
  <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Roboto+Slab:400,700|Material+Icons" />
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/latest/css/font-awesome.min.css">
  <!-- Material Kit CSS -->
  <link href="../assets/css/material-dashboard.css?v=2.1.0" rel="stylesheet" />

  <script>
      var ARRAY_SIZE = 15;
      var position = 0;
      var i = 0;
      var key;
      var sorted = false;
      var list = new Array();
      var bucket = new Array();

      initializeList();
      initializeBuckets();

      function reset() {
        sorted = false;
        initializeList();
        clearBuckets();
        i = 0;
        position = 0;
        initializeList();
        draw();
      }

      function initializeList() {
        for (var i = 0; i < ARRAY_SIZE; i++) {
          list[i] = Math.floor(Math.random() * 1000);
        }
      }

      var dataWebsiteViewsChart = {

        labels: list,
        series: [list]
      };

      /** Create array list for each bucket */
      function initializeBuckets() {
        for (var i = 0; i < 10; i++) {
          bucket[i] = new Array();
        }
      }

      /** Clear the buckets */
      function clearBuckets() {
        for (var i = 0; i < 10; i++) {
          bucket[i].splice(0, bucket[i].length);
        }
      }

      function draw() {
        var canvas = document.getElementById('canvas');
        var context = canvas.getContext("2d");
        // Reset size will clear the canvas, but not for IE9
        canvas.width = window.innerWidth - 20;
        canvas.height = window.innerHeight - 180;        
        context.clearRect(0, 0, canvas.width, canvas.height); // For IE 9

        context.font = "14px sans-serif";
        context.strokeStyle = "#100"; // Set a pen color

        drawList(context, list, -70, 0, "");
        drawBuckets(context, -119, 50, bucket);

        if (sorted) {
          md.showNotification('top','center');
        }
        context.stroke();

        md.initDashboardPageCharts();
      }

      function drawList(context, list, startX, startY, title) {
        context.fillText(title, 40 * (0 + 1) + startX - 5, 60 + startY);
        for (var k = 0; k < list.length; k++) {
          if (i - 1 == k) {
            context.fillStyle = '#EB0D1B';
            context.fillText(list[k] + "", 40 * (k + 2) + 5 + startX, 60 + startY);
            context.fillStyle = 'black';
          }
          context.fillText(list[k] + "", 40 * (k + 2) + 5 + startX, 60 + startY);
          context.rect(40 * (k + 2) + startX, 40 + startY, 40, 30);
        }
      }

      function drawBuckets(context, startX, startY, bucket) {
        for (var i = 0; i < 10; i++) {
          
          context.rect(65 * (i + 2) + startX, 40 + startY, 50, 150);
          context.fillText("Balde " + i + " ", 65 * (i + 2) + startX - 5, 210 + startY);

          var bucket_name = "balde_"+i
          var bucket_node = document.getElementById(bucket_name)

          for (var j = 0; j < bucket[i].length; j++) {
            context.fillText(bucket[i][j], 65 * (i + 2) + startX + 15, j * 20 + 60 + startY);

            var h2_node = document.createElement("H2");
            h2_node.classList.add("card-title");
            // adicionar o valor ao elemento
            var textnode = document.createTextNode(bucket[i][j])
            // adicionar o elemento ao h2
            h2_node.appendChild(textnode)
            // adicionar o valor ao balde
            bucket_node.appendChild(h2_node)

          }

          if (i == key && bucket[i].length > 0) {
            context.fillStyle = '#EB0D1B';
            context.fillText(bucket[i][bucket[i].length - 1],
                    65 * (i + 2) + startX + 15, (bucket[i].length - 1) * 20 + 60 + startY);
            context.fillStyle = 'black';
          }


          /*<div class="col-xl-2 col-lg-2 col-md-6 col-sm-6">
                <div class="card card-stats" style="text-align: center; margin-top: 1em" id="balde_1">
                  <div class="card-header card-header-warning">
                    <h3 class="card-title">Balde 1</h3>
                  </div>
                    <h2 class="card-title">49/50</h2>
                    <h2 class="card-title">49/50</h2>
                </div>
            </div>
          

          // cria o id do balde = id do elemento
          var bucket_name = "balde_"+i
          // busco o balde
          var bucket_node = document.getElementById(bucket_name)
          // crio um elemento h2 => onde vai colocar o valor
          var h2_node = document.createElement("H2");
          // adicionar o estilo do elemento
          h2_node.classList.add("card-title");
          // adicionar o valor ao elemento
          var textnode = document.createTextNode("21")
          // adicionar o elemento ao h2
          h2_node.appendChild(textnode)
          // adicionar o valor ao balde
          bucket_node.appendChild(h2_node)
          */
        }
      }

      function step() {
        if (takeAStep()) {
          sorted = true;
        }
        draw();
      }

      function takeAStep() {
        // Distribute the elements from list to buckets
        if (i < list.length) {
          key = getKey(list[i], position);
          bucket[key][bucket[key].length] = list[i];
          i++;
          return false;
        }
        else if (position < 2) {
          bucketsToList();
          clearBuckets();
          i = 0;
          position++;
          return false;
        }
        else {
          bucketsToList();
          clearBuckets();
          return true;
        }
      }

      /** move the elements from the buckets back to list */
      function bucketsToList() {
        var k = 0; // k is an index for list
        for (var i = 0; i < bucket.length; i++) {
          for (var j = 0; j < bucket[i].length; j++)
            list[k++] = bucket[i][j];
        }
      }

      /** Return the digit at the specified position. 
       * The last digit's position is 0. */
      function getKey(number, position) {
        var result = 1;
        for (var i = 0; i < position; i++)
          result *= 10;

        return Math.floor(number / result) % 10;
      }

      //##########################################################################################################
                /*!

          =========================================================
          * Material Dashboard Dark Edition - v2.1.0
          =========================================================

          * Product Page: https://www.creative-tim.com/product/material-dashboard-dark
          * Copyright 2019 Creative Tim (http://www.creative-tim.com)

          * Coded by www.creative-tim.com

          =========================================================

          * The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.

          */

          (function() {
            isWindows = navigator.platform.indexOf('Win') > -1 ? true : false;

            if (isWindows) {
              // if we are on windows OS we activate the perfectScrollbar function
              $('.sidebar .sidebar-wrapper, .main-panel').perfectScrollbar();

              $('html').addClass('perfect-scrollbar-on');
            } else {
              $('html').addClass('perfect-scrollbar-off');
            }
          })();


          var breakCards = true;

          var searchVisible = 0;
          var transparent = true;

          var transparentDemo = true;
          var fixedTop = false;

          var mobile_menu_visible = 0,
            mobile_menu_initialized = false,
            toggle_initialized = false,
            bootstrap_nav_initialized = false;

          var seq = 0,
            delays = 80,
            durations = 500;
          var seq2 = 0,
            delays2 = 80,
            durations2 = 500;

          $(document).ready(function() {

            $('body').bootstrapMaterialDesign();

            $sidebar = $('.sidebar');

            md.initSidebarsCheck();

            window_width = $(window).width();

            // check if there is an image set for the sidebar's background
            md.checkSidebarImage();

            //    Activate bootstrap-select
            if ($(".selectpicker").length != 0) {
              $(".selectpicker").selectpicker();
            }

            //  Activate the tooltips
            $('[rel="tooltip"]').tooltip();

            $('.form-control').on("focus", function() {
              $(this).parent('.input-group').addClass("input-group-focus");
            }).on("blur", function() {
              $(this).parent(".input-group").removeClass("input-group-focus");
            });

            // remove class has-error for checkbox validation
            $('input[type="checkbox"][required="true"], input[type="radio"][required="true"]').on('click', function() {
              if ($(this).hasClass('error')) {
                $(this).closest('div').removeClass('has-error');
              }
            });

          });

          $(document).on('click', '.navbar-toggler', function() {
            $toggle = $(this);

            if (mobile_menu_visible == 1) {
              $('html').removeClass('nav-open');

              $('.close-layer').remove();
              setTimeout(function() {
                $toggle.removeClass('toggled');
              }, 400);

              mobile_menu_visible = 0;
            } else {
              setTimeout(function() {
                $toggle.addClass('toggled');
              }, 430);

              var $layer = $('<div class="close-layer"></div>');

              if ($('body').find('.main-panel').length != 0) {
                $layer.appendTo(".main-panel");

              } else if (($('body').hasClass('off-canvas-sidebar'))) {
                $layer.appendTo(".wrapper-full-page");
              }

              setTimeout(function() {
                $layer.addClass('visible');
              }, 100);

              $layer.click(function() {
                $('html').removeClass('nav-open');
                mobile_menu_visible = 0;

                $layer.removeClass('visible');

                setTimeout(function() {
                  $layer.remove();
                  $toggle.removeClass('toggled');

                }, 400);
              });

              $('html').addClass('nav-open');
              mobile_menu_visible = 1;

            }

          });

          // activate collapse right menu when the windows is resized
          $(window).resize(function() {
            md.initSidebarsCheck();

            // reset the seq for charts drawing animations
            seq = seq2 = 0;

            setTimeout(function() {
              md.initDashboardPageCharts();
            }, 500);
          });



          md = {
            misc: {
              navbar_menu_visible: 0,
              active_collapse: true,
              disabled_collapse_init: 0
            },

            checkSidebarImage: function() {
              $sidebar = $('.sidebar');
              image_src = $sidebar.data('image');

              if (image_src !== undefined) {
                sidebar_container = '<div class="sidebar-background" style="background-image: url(' + image_src + ') "/>';
                $sidebar.append(sidebar_container);
              }
            },

            initSidebarsCheck: function() {
              if ($(window).width() <= 991) {
                if ($sidebar.length != 0) {
                  md.initRightMenu();
                }
              }
            },

            initDashboardPageCharts: function() {

              if ($('#dailySalesChart').length != 0 || $('#completedTasksChart').length != 0 || $('#websiteViewsChart').length != 0) {
                /* ----------==========     Daily Sales Chart initialization    ==========---------- */

                dataDailySalesChart = {
                  labels: ['M', 'T', 'W', 'T', 'F', 'S', 'S'],
                  series: [
                    [12, 17, 7, 17, 23, 18, 38]
                  ]
                };

                optionsDailySalesChart = {
                  lineSmooth: Chartist.Interpolation.cardinal({
                    tension: 0
                  }),
                  low: 0,
                  high: 50, // creative tim: we recommend you to set the high sa the biggest value + something for a better look
                  chartPadding: {
                    top: 0,
                    right: 0,
                    bottom: 0,
                    left: 0
                  },
                }

                var dailySalesChart = new Chartist.Line('#dailySalesChart', dataDailySalesChart, optionsDailySalesChart);

                md.startAnimationForLineChart(dailySalesChart);


                /* ----------==========     Completed Tasks Chart initialization    ==========---------- */

                dataCompletedTasksChart = {
                  labels: ['12p', '3p', '6p', '9p', '12p', '3a', '6a', '9a'],
                  series: [
                    [230, 750, 450, 300, 280, 240, 200, 190]
                  ]
                };

                optionsCompletedTasksChart = {
                  lineSmooth: Chartist.Interpolation.cardinal({
                    tension: 0
                  }),
                  low: 0,
                  high: 1000, // creative tim: we recommend you to set the high sa the biggest value + something for a better look
                  chartPadding: {
                    top: 0,
                    right: 0,
                    bottom: 0,
                    left: 0
                  }
                }

                var completedTasksChart = new Chartist.Line('#completedTasksChart', dataCompletedTasksChart, optionsCompletedTasksChart);

                // start animation for the Completed Tasks Chart - Line Chart
                md.startAnimationForLineChart(completedTasksChart);


                /* ----------==========     Emails Subscription Chart initialization    ==========---------- */

                
                var optionsWebsiteViewsChart = {
                  axisX: {
                    showGrid: false
                  },
                  low: 0,
                  high: 1000,
                  chartPadding: {
                    top: 0,
                    right: 5,
                    bottom: 0,
                    left: 0
                  }
                };
                var responsiveOptions = [
                  ['screen and (max-width: 640px)', {
                    seriesBarDistance: 5,
                    axisX: {
                      labelInterpolationFnc: function(value) {
                        return value[0];
                      }
                    }
                  }]
                ];
                var websiteViewsChart = Chartist.Bar('#websiteViewsChart', dataWebsiteViewsChart, optionsWebsiteViewsChart, responsiveOptions);

                //start animation for the Emails Subscription Chart
                md.startAnimationForBarChart(websiteViewsChart);
              }
            },

            showNotification: function(from, align) {
              type = ['success', 'primary'];

              color = Math.floor((Math.random() * 5) + 1);

              $.notify({
                icon: "add_alert",
                message: "<b>Lista Ordenada</b> - clique no botão <b>reiniciar</b> para gerar uma nova lista."

              }, {
                type: type[color],
                timer: 3000,
                placement: {
                  from: from,
                  align: align
                }
              });
            },

            checkScrollForTransparentNavbar: debounce(function() {
              if ($(document).scrollTop() > 260) {
                if (transparent) {
                  transparent = false;
                  $('.navbar-color-on-scroll').removeClass('navbar-transparent');
                }
              } else {
                if (!transparent) {
                  transparent = true;
                  $('.navbar-color-on-scroll').addClass('navbar-transparent');
                }
              }
            }, 17),

            initRightMenu: debounce(function() {

              $sidebar_wrapper = $('.sidebar-wrapper');

              if (!mobile_menu_initialized) {
                console.log('intra');
                $navbar = $('nav').find('.navbar-collapse').children('.navbar-nav');

                mobile_menu_content = '';

                nav_content = $navbar.html();

                nav_content = '<ul class="nav navbar-nav nav-mobile-menu">' + nav_content + '</ul>';

                navbar_form = $('nav').find('.navbar-form').length != 0 ? $('nav').find('.navbar-form')[0].outerHTML : null;

                $sidebar_nav = $sidebar_wrapper.find(' > .nav');

                // insert the navbar form before the sidebar list
                $nav_content = $(nav_content);
                $navbar_form = $(navbar_form);
                $nav_content.insertBefore($sidebar_nav);
                $navbar_form.insertBefore($nav_content);

                $(".sidebar-wrapper .dropdown .dropdown-menu > li > a").click(function(event) {
                  event.stopPropagation();

                });

                // simulate resize so all the charts/maps will be redrawn
                window.dispatchEvent(new Event('resize'));

                mobile_menu_initialized = true;
              } else {
                if ($(window).width() > 991) {
                  // reset all the additions that we made for the sidebar wrapper only if the screen is bigger than 991px
                  $sidebar_wrapper.find('.navbar-form').remove();
                  $sidebar_wrapper.find('.nav-mobile-menu').remove();

                  mobile_menu_initialized = false;
                }
              }
            }, 200),

            startAnimationForLineChart: function(chart) {
              chart.on('draw', function(data) {
                if ((data.type === 'line' || data.type === 'area') && window.matchMedia("(min-width: 900px)").matches) {
                  data.element.animate({
                    d: {
                      begin: 600,
                      dur: 700,
                      from: data.path.clone().scale(1, 0).translate(0, data.chartRect.height()).stringify(),
                      to: data.path.clone().stringify(),
                      easing: Chartist.Svg.Easing.easeOutQuint
                    }
                  });
                } else if (data.type === 'point') {
                  seq++;
                  data.element.animate({
                    opacity: {
                      begin: seq * delays,
                      dur: durations,
                      from: 0,
                      to: 1,
                      easing: 'ease'
                    }
                  });
                }

              });

              seq = 0;

            },
            startAnimationForBarChart: function(chart) {
              chart.on('draw', function(data) {
                if (data.type === 'bar' && window.matchMedia("(min-width: 900px)").matches) {
                  seq2++;
                  data.element.animate({
                    opacity: {
                      begin: seq2 * delays2,
                      dur: durations2,
                      from: 0,
                      to: 1,
                      easing: 'ease'
                    }
                  });
                }

              });

              seq2 = 0;

            }
          }

          // Returns a function, that, as long as it continues to be invoked, will not
          // be triggered. The function will be called after it stops being called for
          // N milliseconds. If `immediate` is passed, trigger the function on the
          // leading edge, instead of the trailing.

          function debounce(func, wait, immediate) {
            var timeout;
            return function() {
              var context = this,
                args = arguments;
              clearTimeout(timeout);
              timeout = setTimeout(function() {
                timeout = null;
                if (!immediate) func.apply(context, args);
              }, wait);
              if (immediate && !timeout) func.apply(context, args);
            };
          };
      //##########################################################################################################

    </script>
    <!-- Global Site Tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-89940905-27"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments)};
      gtag('js', new Date());
      gtag('config', 'UA-89940905-27');
    </script>

    <script type="text/javascript" src="../logging.js"></script>

</head>

<body class="dark-edition">
  <div class="wrapper ">
    <div class="sidebar" data-color="orange" data-background-color="black" data-image="./assets/img/sidebar-2.jpg">
      <!--
      Tip 1: You can change the color of the sidebar using: data-color="purple | azure | green | orange | danger"

      Tip 2: you can also add an image using data-image tag
  -->
      <div class="logo">
        <a href="http://www.creative-tim.com" class="simple-text logo-normal">
          EDA II - SORT
        </a>
      </div>
      <div class="sidebar-wrapper">
        <ul class="nav">
          <li class="nav-item ">
            <a class="nav-link" href="./template.html">
              <i class="material-icons">dashboard</i>
              <p>Geral</p>
            </a>
          </li>
          <li class="nav-item active  ">
            <a class="nav-link" href="sort/RadixSort.html">
              <i class="material-icons">view_week</i>
              <p>Radix Sort</p>
            </a>
          </li>
          <!-- your sidebar here -->
        </ul>
      </div>
    </div>
    <div class="main-panel">
      <!-- Navbar -->
      <nav class="navbar navbar-expand-lg navbar-transparent navbar-absolute fixed-top ">
        <div class="container-fluid">
          <div class="navbar-wrapper">
            <a class="navbar-brand" href="javascript:void(0)">Radix Sort</a>
          </div>
          <button class="navbar-toggler" type="button" data-toggle="collapse" aria-controls="navigation-index" aria-expanded="false" aria-label="Toggle navigation">
            <span class="sr-only">Toggle navigation</span>
            <span class="navbar-toggler-icon icon-bar"></span>
            <span class="navbar-toggler-icon icon-bar"></span>
            <span class="navbar-toggler-icon icon-bar"></span>
          </button>
        </div>
      </nav>
      <!-- End Navbar -->
      <div class="content">
        <div class="container-fluid">
          <div class="col-8 offset-2">
            <div class="card card-chart col-12">
              <div class="card-header card-header-warning">
                <div class="ct-chart" id="websiteViewsChart"></div>
              </div>
              <div class="card-body">
                <h4 class="card-title">Lista</h4>
                <p class="card-category">Radix LSD</p>
              </div>
            </div>
          </div>
          <div class="row">

            <div class="col-xl-2 col-lg-2 col-md-6 col-sm-6 offset-1">
              <div class="card card-stats" style="text-align: center; margin-top: 1em" id="balde_0">
                <div class="card-header card-header-warning">
                  <h3 class="card-title">Balde 0</h3>
                </div>
              </div>
            </div>
            <div class="col-xl-2 col-lg-2 col-md-6 col-sm-6">
                <div class="card card-stats" style="text-align: center; margin-top: 1em" id="balde_1">
                  <div class="card-header card-header-warning">
                    <h3 class="card-title">Balde 1</h3>
                  </div>
                </div>
            </div>
            <div class="col-xl-2 col-lg-2 col-md-6 col-sm-6">
                <div class="card card-stats" style="text-align: center; margin-top: 1em" id="balde_2">
                  <div class="card-header card-header-warning">
                    <h3 class="card-title">Balde 2</h3>
                  </div>
                </div>
            </div>
            <div class="col-xl-2 col-lg-2 col-md-6 col-sm-6">
                <div class="card card-stats" style="text-align: center; margin-top: 1em" id="balde_3">
                  <div class="card-header card-header-warning">
                    <h3 class="card-title">Balde 3</h3>
                  </div>
                </div>
            </div>
            <div class="col-xl-2 col-lg-2 col-md-6 col-sm-6">
                <div class="card card-stats" style="text-align: center; margin-top: 1em" id="balde_4">
                  <div class="card-header card-header-warning">
                    <h3 class="card-title">Balde 4</h3>
                  </div>
                </div>
            </div>
            <div class="col-xl-2 col-lg-2 col-md-6 col-sm-6 offset-1">
                <div class="card card-stats" style="text-align: center; margin-top: 1em" id="balde_5">
                  <div class="card-header card-header-warning">
                    <h3 class="card-title">Balde 5</h3>
                  </div>
                </div>
              </div>
              <div class="col-xl-2 col-lg-2 col-md-6 col-sm-6">
                  <div class="card card-stats" style="text-align: center; margin-top: 1em" id="balde_6">
                    <div class="card-header card-header-warning">
                      <h3 class="card-title">Balde 6</h3>
                    </div>
                  </div>
              </div>
              <div class="col-xl-2 col-lg-2 col-md-6 col-sm-6">
                  <div class="card card-stats" style="text-align: center; margin-top: 1em" id="balde_7">
                    <div class="card-header card-header-warning">
                      <h3 class="card-title">Balde 7</h3>
                    </div>
                  </div>
              </div>
              <div class="col-xl-2 col-lg-2 col-md-6 col-sm-6">
                  <div class="card card-stats" style="text-align: center; margin-top: 1em" id="balde_8">
                    <div class="card-header card-header-warning">
                      <h3 class="card-title">Balde 8</h3>
                    </div>
                  </div>
              </div>
              <div class="col-xl-2 col-lg-2 col-md-6 col-sm-6">
                  <div class="card card-stats" style="text-align: center; margin-top: 1em" id="balde_9">
                    <div class="card-header card-header-warning">
                      <h3 class="card-title">Balde 9</h3>
                    </div>
                  </div>
              </div>
          </div>
        </div>
      </div>
          <body onload="reset()" onresize="draw()">   
              <div style="margin: 0px auto; border: 1px solid #EB0D1B; text-align: right">
                <canvas id="canvas" width="400" height="280"></canvas>
              </div>
              <div style="text-align: center; margin-top: 1em">
                <button type="button" class = "btn btn-primary pull-center" onclick="step()">Próximo passo</button>
                <button type="button" class = "btn btn-primary pull-right" onclick="reset()">Reiniciar</button>
              </div>
        </div>
      </div>
      <footer class="footer">
        <div class="container-fluid">
          <nav class="float-left">
            <ul>
              <li>
                <a href="https://www.creative-tim.com">
                  Creative Tim
                </a>
              </li>
            </ul>
          </nav>
          <div class="copyright float-right">
            &copy;
            <script>
              document.write(new Date().getFullYear())
            </script>, made with <i class="material-icons">favorite</i> by
            <a href="https://www.creative-tim.com" target="_blank">Creative Tim</a> for a better web.
          </div>
          <!-- your footer here -->
        </div>
      </footer>
    </div>
  </div>
  <!--   Core JS Files   -->
  <script src="../assets/js/core/jquery.min.js"></script>
  <script src="../assets/js/core/popper.min.js"></script>
  <script src="../assets/js/core/bootstrap-material-design.min.js"></script>
  <script src="https://unpkg.com/default-passive-events"></script>
  <script src="../assets/js/plugins/perfect-scrollbar.jquery.min.js"></script>
  <!-- Place this tag in your head or just before your close body tag. -->
  <script async defer src="https://buttons.github.io/buttons.js"></script>
  <!--  Google Maps Plugin    -->
  <script src="https://maps.googleapis.com/maps/api/js?key=YOUR_KEY_HERE"></script>
  <!-- Chartist JS -->
  <script src="../assets/js/plugins/chartist.min.js"></script>
  <!--  Notifications Plugin    -->
  <script src="../assets/js/plugins/bootstrap-notify.js"></script>
  <!-- Control Center for Material Dashboard: parallax effects, scripts for the example pages etc -->
  <script src="../assets/js/material-dashboard.js?v=2.1.0"></script>
  <!-- Material Dashboard DEMO methods, don't include it in your project! -->
  <script src="../assets/demo/demo.js"></script>
  <script>
    $(document).ready(function() {
      $().ready(function() {
        $sidebar = $('.sidebar');

        $sidebar_img_container = $sidebar.find('.sidebar-background');

        $full_page = $('.full-page');

        $sidebar_responsive = $('body > .navbar-collapse');

        window_width = $(window).width();

        $('.fixed-plugin a').click(function(event) {
          // Alex if we click on switch, stop propagation of the event, so the dropdown will not be hide, otherwise we set the  section active
          if ($(this).hasClass('switch-trigger')) {
            if (event.stopPropagation) {
              event.stopPropagation();
            } else if (window.event) {
              window.event.cancelBubble = true;
            }
          }
        });

        $('.fixed-plugin .active-color span').click(function() {
          $full_page_background = $('.full-page-background');

          $(this).siblings().removeClass('active');
          $(this).addClass('active');

          var new_color = $(this).data('color');

          if ($sidebar.length != 0) {
            $sidebar.attr('data-color', new_color);
          }

          if ($full_page.length != 0) {
            $full_page.attr('filter-color', new_color);
          }

          if ($sidebar_responsive.length != 0) {
            $sidebar_responsive.attr('data-color', new_color);
          }
        });

        $('.fixed-plugin .background-color .badge').click(function() {
          $(this).siblings().removeClass('active');
          $(this).addClass('active');

          var new_color = $(this).data('background-color');

          if ($sidebar.length != 0) {
            $sidebar.attr('data-background-color', new_color);
          }
        });

        $('.fixed-plugin .img-holder').click(function() {
          $full_page_background = $('.full-page-background');

          $(this).parent('li').siblings().removeClass('active');
          $(this).parent('li').addClass('active');


          var new_image = $(this).find("img").attr('src');

          if ($sidebar_img_container.length != 0 && $('.switch-sidebar-image input:checked').length != 0) {
            $sidebar_img_container.fadeOut('fast', function() {
              $sidebar_img_container.css('background-image', 'url("' + new_image + '")');
              $sidebar_img_container.fadeIn('fast');
            });
          }

          if ($full_page_background.length != 0 && $('.switch-sidebar-image input:checked').length != 0) {
            var new_image_full_page = $('.fixed-plugin li.active .img-holder').find('img').data('src');

            $full_page_background.fadeOut('fast', function() {
              $full_page_background.css('background-image', 'url("' + new_image_full_page + '")');
              $full_page_background.fadeIn('fast');
            });
          }

          if ($('.switch-sidebar-image input:checked').length == 0) {
            var new_image = $('.fixed-plugin li.active .img-holder').find("img").attr('src');
            var new_image_full_page = $('.fixed-plugin li.active .img-holder').find('img').data('src');

            $sidebar_img_container.css('background-image', 'url("' + new_image + '")');
            $full_page_background.css('background-image', 'url("' + new_image_full_page + '")');
          }

          if ($sidebar_responsive.length != 0) {
            $sidebar_responsive.css('background-image', 'url("' + new_image + '")');
          }
        });

        $('.switch-sidebar-image input').change(function() {
          $full_page_background = $('.full-page-background');

          $input = $(this);

          if ($input.is(':checked')) {
            if ($sidebar_img_container.length != 0) {
              $sidebar_img_container.fadeIn('fast');
              $sidebar.attr('data-image', '#');
            }

            if ($full_page_background.length != 0) {
              $full_page_background.fadeIn('fast');
              $full_page.attr('data-image', '#');
            }

            background_image = true;
          } else {
            if ($sidebar_img_container.length != 0) {
              $sidebar.removeAttr('data-image');
              $sidebar_img_container.fadeOut('fast');
            }

            if ($full_page_background.length != 0) {
              $full_page.removeAttr('data-image', '#');
              $full_page_background.fadeOut('fast');
            }

            background_image = false;
          }
        });

        $('.switch-sidebar-mini input').change(function() {
          $body = $('body');

          $input = $(this);

          if (md.misc.sidebar_mini_active == true) {
            $('body').removeClass('sidebar-mini');
            md.misc.sidebar_mini_active = false;

            $('.sidebar .sidebar-wrapper, .main-panel').perfectScrollbar();

          } else {

            $('.sidebar .sidebar-wrapper, .main-panel').perfectScrollbar('destroy');

            setTimeout(function() {
              $('body').addClass('sidebar-mini');

              md.misc.sidebar_mini_active = true;
            }, 300);
          }

          // we simulate the window Resize so the charts will get updated in realtime.
          var simulateWindowResize = setInterval(function() {
            window.dispatchEvent(new Event('resize'));
          }, 180);

          // we stop the simulation of Window Resize after the animations are completed
          setTimeout(function() {
            clearInterval(simulateWindowResize);
          }, 1000);

        });
      });
    });
  </script>
</body>

</html>